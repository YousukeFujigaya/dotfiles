#!/bin/sh

echo ğŸ“Œ Configuring macOS default settings

# Close any open System Preferences panes, to prevent them from overriding
# settings weâ€™re about to change
osascript -e 'tell application "System Preferences" to quit'

# Ask for the administrator password upfront
# sudo -v

# Keep-alive: update existing `sudo` time stamp until `.macos` has finished
# while true; do sudo -n true; sleep 60; kill -0 "$$" || exit; done 2>/dev/null &

# Disable the sound effects on boot
sudo nvram SystemAudioVolume=%00

###########################################################
# System Interface & Appearance
###########################################################

# Interface Style
defaults write NSGlobalDomain AppleInterfaceStyle -string Dark # ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã«è¨­å®š #default: Light

# Performance & Animation
defaults write -g NSWindowResizeTime -float 0.001 # ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãƒ»ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒªã‚µã‚¤ã‚ºé€Ÿåº¦ã‚’é«˜é€ŸåŒ– #default: 0.2
defaults write com.apple.Accessibility ReduceMotionEnabled -bool true # è¦–è¦šåŠ¹æœãƒ»ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ¸›ã‚‰ã™ #default: false
defaults write -g NSScrollViewRubberbanding -bool false # ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚ã®ãƒã‚¦ãƒ³ãƒ‰ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åœæ­¢ #default: true
defaults write -g NSAutomaticWindowAnimationsEnabled -bool false # ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åœæ­¢ #default: true

###########################################################
# Security & Privacy
###########################################################

# Screen Saver & Lock
defaults write com.apple.screensaver askForPassword -bool true # ã‚¹ãƒªãƒ¼ãƒ—å¾©å¸°æ™‚ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¦æ±‚ #default: true
defaults write com.apple.screensaver askForPasswordDelay -int 0 # ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¦æ±‚é…å»¶æ™‚é–“ï¼ˆç§’ï¼‰ #default: 0

# Download Security
defaults write com.apple.LaunchServices LSQuarantine -bool false # ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«è­¦å‘Šãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º #default: true

# System Integrity
defaults write com.apple.CrashReporter DialogType none # ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ãƒªãƒãƒ¼ã‚¿ãƒ¼ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º #default: "crashreport"

###########################################################
# File System & Storage
###########################################################

# File Extensions & Hidden Files
defaults write NSGlobalDomain AppleShowAllExtensions -bool true # å…¨ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µå­ã‚’è¡¨ç¤º #default: false

# Network Storage
defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool true # ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ‡ã‚£ã‚¹ã‚¯ã§`.DS_Store`ã‚’ä½œã‚‰ãªã„ #default: false
defaults write com.apple.desktopservices DSDontWriteUSBStores -bool true # USBãƒ‡ã‚£ã‚¹ã‚¯ã§`.DS_Store`ã‚’ä½œã‚‰ãªã„ #default: false

# Cloud Storage
# defaults write NSGlobalDomain NSDocumentSaveNewDocumentsToCloud -bool false # ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«è¨­å®š #default: true

# System Folders
chflags nohidden ~/Library && xattr -d com.apple.FinderInfo ~/Library # ã€Œãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ãƒ•ã‚©ãƒ«ãƒ€ã‚’å¸¸ã«è¡¨ç¤º #default: hidden

###########################################################
# Mission Control & Spaces
###########################################################

# Hot Corners
# Values: 0=no-op, 2=Mission Control, 3=App windows, 4=Desktop, 5=Start screensaver,
#         6=Disable screensaver, 7=Dashboard, 10=Display sleep, 11=Launchpad, 12=Notification Center
# defaults write com.apple.dock wvous-bl-corner -int 10 # å·¦ä¸‹ãƒ›ãƒƒãƒˆã‚³ãƒ¼ãƒŠãƒ¼ã§ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã‚¹ãƒªãƒ¼ãƒ— #default: 0
# defaults write com.apple.dock wvous-bl-modifier -int 0 # ä¿®é£¾ã‚­ãƒ¼ãªã— #default: 0

# Spaces Behavior
defaults write com.apple.dock mru-spaces -bool false # Spacesã‚’ä½¿ç”¨é »åº¦ã§è‡ªå‹•ä¸¦ã³æ›¿ãˆã—ãªã„ #default: true

###########################################################
# Keyboard & Text Input
###########################################################

# Key Repeat
defaults write NSGlobalDomain ApplePressAndHoldEnabled -bool false # é•·æŠ¼ã—æ–‡å­—é¸æŠæ©Ÿèƒ½ #default: true
defaults write NSGlobalDomain KeyRepeat -int 1 # ã‚­ãƒ¼ãƒªãƒ”ãƒ¼ãƒˆé€Ÿåº¦ã‚’æœ€é«˜é€Ÿã« #default: 6
defaults write NSGlobalDomain InitialKeyRepeat -int 14 # ã‚­ãƒ¼ãƒªãƒ”ãƒ¼ãƒˆé–‹å§‹ã¾ã§ã®æ™‚é–“ #default: 25

# Function Keys
defaults write NSGlobalDomain com.apple.keyboard.fnState -bool true # æ¨™æº–ãƒ•ã‚¡ãƒ³ã‚¯ã‚·ãƒ§ãƒ³ã‚­ãƒ¼å„ªå…ˆãƒ¢ãƒ¼ãƒ‰ #default: false

# Text Correction
defaults write -g NSAutomaticSpellingCorrectionEnabled -bool false # è‡ªå‹•ã‚¹ãƒšãƒ«ä¿®æ­£æ©Ÿèƒ½ #default: true
defaults write NSGlobalDomain NSAutomaticCapitalizationEnabled -bool false # è‡ªå‹•å¤§æ–‡å­—åŒ–æ©Ÿèƒ½ #default: true
# defaults write NSGlobalDomain NSAutomaticDashSubstitutionEnabled -bool false # ãƒ€ãƒƒã‚·ãƒ¥ã®è‡ªå‹•ç½®æ› #default: true
defaults write NSGlobalDomain NSAutomaticPeriodSubstitutionEnabled -bool false # ãƒ”ãƒªã‚ªãƒ‰è‡ªå‹•æŒ¿å…¥æ©Ÿèƒ½ #default: true
# defaults write NSGlobalDomain NSAutomaticQuoteSubstitutionEnabled -bool false # å¼•ç”¨ç¬¦ã®è‡ªå‹•ç½®æ› #default: true

# Key Mappings
# CapsLock ã‚’ Ctrl ã«å¤‰æ›´ (macOSå†èµ·å‹•ãŒå¿…è¦) - JISä»¥å¤–ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ã¿ #default: CapsLock
keyboard_id="$(ioreg -c AppleEmbeddedKeyboard -r | grep -Eiw "VendorID|ProductID" | awk '{ print $4 }' | paste -s -d'-\n' -)-0"

# JISã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‹ã©ã†ã‹ã‚’åˆ¤å®šï¼ˆå…¥åŠ›ã‚½ãƒ¼ã‚¹ã§JISé…åˆ—ã‚’æ¤œå‡ºï¼‰
is_jis_keyboard() {
    # ç¾åœ¨ã®å…¥åŠ›ã‚½ãƒ¼ã‚¹ã¾ãŸã¯ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰è¨­å®šã‹ã‚‰JISé…åˆ—ã‚’æ¤œå‡º
    defaults read ~/Library/Preferences/com.apple.HIToolbox.plist AppleSelectedInputSources 2>/dev/null | grep -q "com.apple.keylayout.Japanese" || \
    system_profiler SPHardwareDataType | grep -q "Japanese"
}

# JISä»¥å¤–ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®å ´åˆã®ã¿CapsLockâ†’Ctrlå¤‰æ›´ã‚’é©ç”¨
if ! is_jis_keyboard; then
    defaults -currentHost write -g com.apple.keyboard.modifiermapping.${keyboard_id} -array-add "
<dict>
  <key>HIDKeyboardModifierMappingDst</key>\
  <integer>30064771300</integer>\
  <key>HIDKeyboardModifierMappingSrc</key>\
  <integer>30064771129</integer>\
</dict>
"
    echo "âœ… CapsLock â†’ Ctrl mapping applied (non-JIS keyboard detected)"
else
    echo "â­ï¸  CapsLock mapping skipped (JIS keyboard detected)"
fi

# Input Source Switching
defaults write com.apple.symbolichotkeys AppleSymbolicHotKeys -dict-add 60 "<dict><key>enabled</key><false/></dict>" # Ctrl+Spaceå…¥åŠ›ã‚½ãƒ¼ã‚¹åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ #default: true
defaults write com.apple.symbolichotkeys AppleSymbolicHotKeys -dict-add 61 "<dict><key>enabled</key><false/></dict>" # Ctrl+Opt+Spaceå…¥åŠ›ã‚½ãƒ¼ã‚¹åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ #default: false

# Shortcuts (Commented)
# defaults write com.apple.symbolichotkeys AppleSymbolicHotKeys -dict-add 27 "..." # æ¬¡ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦æ“ä½œã‚’Opt+Tabã«å¤‰æ›´ #default: Cmd+`

###########################################################
# Trackpad & Mouse
###########################################################

# Scroll & Navigation
defaults write -g com.apple.swipescrolldirection -bool false # ãƒŠãƒãƒ¥ãƒ©ãƒ«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« #default: true

# Trackpad Gestures
defaults write com.apple.AppleMultitouchTrackpad TrackpadThreeFingerHorizSwipeGesture -bool false # 3æœ¬æŒ‡æ°´å¹³ã‚¹ãƒ¯ã‚¤ãƒ—æ©Ÿèƒ½ #default: true

# Click & Tap
defaults write com.apple.AppleMultitouchTrackpad FirstClickThreshold -int 0 # ç¬¬1ã‚¯ãƒªãƒƒã‚¯é–¾å€¤ï¼ˆè»½ã„ï¼‰ #default: 1
defaults write com.apple.AppleMultitouchTrackpad SecondClickThreshold -int 0 # ç¬¬2ã‚¯ãƒªãƒƒã‚¯é–¾å€¤ï¼ˆè»½ã„ï¼‰ #default: 1
defaults write -g com.apple.trackpad.forceClick -bool false # Force Clickæ©Ÿèƒ½ #default: true
defaults write com.apple.AppleMultitouchTrackpad Clicking -bool true # ã‚¿ãƒƒãƒ—ã§ã‚¯ãƒªãƒƒã‚¯æ©Ÿèƒ½ #default: false
defaults write -g com.apple.mouse.tapBehavior -bool true # è»½ã„ã‚¿ãƒƒãƒ—ã§ã‚¯ãƒªãƒƒã‚¯æ©Ÿèƒ½ #default: false

# Tracking Speed
defaults write -g com.apple.trackpad.scaling -float 2.5 # ãƒˆãƒ©ãƒƒã‚¯ãƒ‘ãƒƒãƒ‰ã®ç§»å‹•é€Ÿåº¦ #default: 0.6875
defaults write -g com.apple.mouse.scaling -float 1.5 # ãƒã‚¦ã‚¹ã®ç§»å‹•é€Ÿåº¦ #default: 0.6875

# Mouse Settings (Commented)
# defaults write com.apple.driver.AppleBluetoothMultitouch.mouse MouseButtonMode TwoButton # Bluetoothãƒã‚¦ã‚¹2ãƒœã‚¿ãƒ³ãƒ¢ãƒ¼ãƒ‰ #default: OneButton

###########################################################
# Dock
###########################################################
# Visibility & Animation
defaults write com.apple.dock autohide -bool true # Dockè‡ªå‹•éè¡¨ç¤ºæ©Ÿèƒ½ #default: false
defaults write com.apple.dock autohide-delay -float 10000 # Dockè‡ªå‹•éè¡¨ç¤ºã®é…å»¶æ™‚é–“ #default: 0.5
defaults write com.apple.dock autohide-time-modifier -float 0 # Dockè¡¨ç¤ºãƒ»éè¡¨ç¤ºã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ™‚é–“ #default: 0.5
defaults write com.apple.dock launchanim -bool false # ã‚¢ãƒ—ãƒªèµ·å‹•ãƒã‚¦ãƒ³ãƒ‰ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ #default: true

# Content & Display
defaults write com.apple.dock show-recents -bool false # æœ€è¿‘ä½¿ç”¨ã—ãŸã‚¢ãƒ—ãƒªè¡¨ç¤º #default: true
defaults write com.apple.dock showhidden -bool true # éš ã—ã‚¢ãƒ—ãƒªé€éè¡¨ç¤º #default: false

# Layout & Size (Commented)
# defaults write com.apple.dock orientation -string right # Dockã‚’å³å´ã«é…ç½® #default: "bottom"
defaults write com.apple.dock tilesize -int 56 # Dockã‚¢ã‚¤ã‚³ãƒ³ã‚µã‚¤ã‚º #default: 64
# defaults write com.apple.dock magnification -bool false # Dockãƒã‚¦ã‚¹ã‚ªãƒ¼ãƒãƒ¼æ‹¡å¤§æ©Ÿèƒ½ #default: true
defaults write com.apple.dock largesize -int 80 # æ‹¡å¤§æ™‚ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚µã‚¤ã‚º #default: 128

# Window Effects (Commented)
# defaults write com.apple.dock mineffect -string "scale" # ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦æœ€å°åŒ–ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ #default: "genie"
# defaults write com.apple.dock minimize-to-application -bool true # ã‚¢ãƒ—ãƒªã‚¢ã‚¤ã‚³ãƒ³ã«æœ€å°åŒ– #default: false

###########################################################
# Finder
###########################################################

# General Settings
defaults write com.apple.finder QuitMenuItem -bool true # Finderçµ‚äº†ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¡¨ç¤º #default: false
defaults write com.apple.finder FinderSounds -bool false # FinderåŠ¹æœéŸ³ #default: true

# Desktop & File Display
defaults write com.apple.finder CreateDesktop -bool false # ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤º #default: true
defaults write com.apple.finder AppleShowAllFiles -bool true # éš ã—ãƒ•ã‚¡ã‚¤ãƒ«è¡¨ç¤º #default: false

# Window Display
defaults write com.apple.finder ShowStatusBar -bool true # ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã‚’è¡¨ç¤º #default: false
defaults write com.apple.finder ShowPathbar -bool true # ãƒ‘ã‚¹ãƒãƒ¼ã‚’è¡¨ç¤º #default: false
defaults write com.apple.finder _FXShowPosixPathInTitle -bool true # ã‚¿ã‚¤ãƒˆãƒ«ãƒãƒ¼ã«ãƒ•ãƒ«ãƒ‘ã‚¹ã‚’è¡¨ç¤º #default: false

# View & Navigation
defaults write com.apple.finder FXPreferredViewStyle -string "clmv" # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ“ãƒ¥ãƒ¼ã‚’ã‚«ãƒ©ãƒ ãƒ“ãƒ¥ãƒ¼ã« #default: "icnv"
# View codes: icnv=Icon, clmv=Column, glyv=Gallery, Nlsv=List

# Performance & Animation
defaults write com.apple.finder DisableAllAnimations -bool true # Finderã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ #default: false
defaults write com.apple.finder AnimateWindowZoom -bool false # ãƒ•ã‚©ãƒ«ãƒ€ã‚’é–‹ãã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ #default: true

# Volume Mounting
defaults write com.apple.frameworks.diskimages auto-open-ro-root -bool true # èª­ã¿è¾¼ã¿å°‚ç”¨ãƒ‡ã‚£ã‚¹ã‚¯ã‚¤ãƒ¡ãƒ¼ã‚¸ã®è‡ªå‹•å±•é–‹ #default: false
defaults write com.apple.frameworks.diskimages auto-open-rw-root -bool true # èª­ã¿æ›¸ãå¯èƒ½ãƒ‡ã‚£ã‚¹ã‚¯ã‚¤ãƒ¡ãƒ¼ã‚¸ã®è‡ªå‹•å±•é–‹ #default: false
defaults write com.apple.finder OpenWindowForNewRemovableDisk -bool true # ãƒªãƒ ãƒ¼ãƒãƒ–ãƒ«ãƒ‡ã‚£ã‚¹ã‚¯æ¥ç¶šæ™‚ã«æ–°ã—ã„ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‹ã #default: false

# Quick Look
defaults write com.apple.finder QLHidePanelOnDeactivate -bool true # ä»–ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ç§»å‹•æ™‚ã«Quick Lookã‚’éè¡¨ç¤º #default: false
defaults write com.apple.finder QLEnableTextSelection -bool true # Quick Lookä¸Šã§ãƒ†ã‚­ã‚¹ãƒˆé¸æŠã‚’å¯èƒ½ã« #default: false

# Desktop Icons (Commented)
# defaults write com.apple.finder ShowExternalHardDrivesOnDesktop -bool true # å¤–ä»˜ã‘HDDã‚’ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã«è¡¨ç¤º #default: false
# defaults write com.apple.finder ShowHardDrivesOnDesktop -bool true # å†…è”µHDDã‚’ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã«è¡¨ç¤º #default: false
# defaults write com.apple.finder ShowMountedServersOnDesktop -bool true # ãƒã‚¦ãƒ³ãƒˆæ¸ˆã¿ã‚µãƒ¼ãƒã‚’ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã«è¡¨ç¤º #default: false
# defaults write com.apple.finder ShowRemovableMediaOnDesktop -bool true # ãƒªãƒ ãƒ¼ãƒãƒ–ãƒ«ãƒ¡ãƒ‡ã‚£ã‚¢ã‚’ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã«è¡¨ç¤º #default: true

# Additional Options (Commented)
# defaults write com.apple.finder FXEnableExtensionChangeWarning -bool false # æ‹¡å¼µå­å¤‰æ›´ã®è­¦å‘Š #default: true
# defaults write com.apple.finder WarnOnEmptyTrash -bool false # ã‚´ãƒŸç®±ã‚’ç©ºã«ã™ã‚‹è­¦å‘Š #default: true

###########################################################
# Menu Bar & System UI
###########################################################

# Menu Bar Visibility
# defaults write NSGlobalDomain _HIHideMenuBar -bool true # ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼è‡ªå‹•éè¡¨ç¤º #default: false

# Clock & Time Display
defaults write com.apple.iCal "number of hours displayed" 24 # ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’24æ™‚é–“è¡¨ç¤º #default: 12
# defaults write com.apple.menuextra.clock DateFormat -string "Mæœˆdæ—¥(EEE)  h:mm:ss" # æ™‚è¨ˆã®è¡¨ç¤ºãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ (macOS Big Surä»¥é™ã§ã¯å‹•ä½œã›ãš) #default: "EEE MMM d  h:mm:ss a"

# Battery Display
defaults write com.apple.menuextra.battery ShowPercent -string "YES" # ãƒãƒƒãƒ†ãƒªãƒ¼æ®‹é‡ã‚’ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸ã§è¡¨ç¤º #default: "NO"

# Sound (Commented)
# defaults write NSGlobalDomain com.apple.sound.beep.volume -float 0 # ã‚·ã‚¹ãƒ†ãƒ è­¦å‘ŠéŸ³é‡ã‚’0ã«è¨­å®š #default: 0.6065
# defaults write NSGlobalDomain com.apple.sound.beep.feedback -bool false # éŸ³é‡å¤‰æ›´æ™‚ã®åŠ¹æœéŸ³ #default: true

###########################################################
# Applications
###########################################################

# Safari
defaults write com.apple.Safari AutoFillPasswords -bool false # Safariãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è‡ªå‹•å…¥åŠ›æ©Ÿèƒ½ã‚’åœæ­¢ #default: true
# defaults write com.apple.Safari IncludeDevelopMenu -bool true # é–‹ç™ºãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’è¡¨ç¤º #default: false
# defaults write com.apple.Safari WebKitDeveloperExtrasEnabledPreferenceKey -bool true # Safarié–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«è¡¨ç¤º #default: false
# defaults write com.apple.Safari ShowFullURLInSmartSearchField -bool true # ã‚¹ãƒãƒ¼ãƒˆæ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å®Œå…¨ãªURLã‚’è¡¨ç¤º #default: false

# QuickTime Player
defaults write com.apple.QuickTimePlayerX NSQuitAlwaysKeepsWindows -bool false # èµ·å‹•æ™‚ã«å‰å›ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã‹ãªã„ #default: true

# Preview
defaults write com.apple.Preview NSQuitAlwaysKeepsWindows -bool false # Preview: èµ·å‹•æ™‚ã«å‰å›é–‹ã„ãŸã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‹ã‹ãªã„ #default: true

# TextEdit (Commented)
# defaults write com.apple.TextEdit RichText -int 0 # TextEditæ–°è¦æ–‡æ›¸ã‚’ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«è¨­å®š #default: 1
# defaults write com.apple.TextEdit PlainTextEncoding -int 4 # TextEditãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’UTF-8ã«è¨­å®š #default: 0
# defaults write com.apple.TextEdit PlainTextEncodingForWrite -int 4 # TextEditä¿å­˜æ™‚ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’UTF-8ã«è¨­å®š #default: 0

# Activity Monitor (Commented)
# defaults write com.apple.ActivityMonitor OpenMainWindow -bool true # ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒ¢ãƒ‹ã‚¿ã‚’é–‹ãã¨ããƒ¡ã‚¤ãƒ³ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’è¡¨ç¤º #default: false
# defaults write com.apple.ActivityMonitor IconType -int 5 # Dockã‚¢ã‚¤ã‚³ãƒ³ã®è¡¨ç¤º (5: CPUä½¿ç”¨ç‡) #default: 0

###########################################################
# Screenshots & Media
###########################################################

# Screenshot Settings
defaults write com.apple.screencapture name ScreenShot # ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã®ãƒ•ã‚¡ã‚¤ãƒ«å #default: "Screenshot"
defaults write com.apple.screencapture disable-shadow -bool true # ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®å½±ã‚’éè¡¨ç¤º #default: false

# Set screenshot location (Google Drive if available, otherwise ~/Screenshot)
if [ -n "$GOOGLE_DRIVE_EMAIL" ]; then
    # Use environment variable if set
    GOOGLE_DRIVE_PATH="$HOME/Library/CloudStorage/GoogleDrive-${GOOGLE_DRIVE_EMAIL}/My Drive/Screenshot"
else
    # Auto-detect Google Drive path
    GOOGLE_DRIVE_PATH="$HOME/Library/CloudStorage/GoogleDrive-"*"/My Drive/Screenshot"
fi

if ls $GOOGLE_DRIVE_PATH 2>/dev/null 1>&2; then
    # Google Drive found
    if [ -n "$GOOGLE_DRIVE_EMAIL" ]; then
        SCREENSHOT_DIR="$GOOGLE_DRIVE_PATH"
    else
        SCREENSHOT_DIR=$(ls -d $GOOGLE_DRIVE_PATH 2>/dev/null | head -1)
    fi
    defaults write com.apple.screencapture location "$SCREENSHOT_DIR" # ä¿å­˜å ´æ‰€ã‚’Google Driveã« #default: ~/Desktop
    echo "ğŸ“¸ Screenshot location set to: $SCREENSHOT_DIR"
else
    # Google Drive not found - use local folder
    defaults write com.apple.screencapture location ~/Screenshot # ä¿å­˜å ´æ‰€ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚©ãƒ«ãƒ€ã« #default: ~/Desktop
    mkdir -p ~/Screenshot # Create directory if it doesn't exist
    echo "ğŸ“¸ Screenshot location set to: ~/Screenshot"
fi

# defaults write com.apple.screencapture include-date -bool false # ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ«åã‹ã‚‰æ—¥ä»˜é™¤å» #default: true
# defaults write com.apple.screencapture type -string "png" # ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã®å½¢å¼ #default: "png"

# Image Capture (Commented)
# defaults write com.apple.ImageCapture disableHotPlug -bool true # ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒ›ãƒƒãƒˆãƒ—ãƒ©ã‚°æ©Ÿèƒ½åœæ­¢ #default: false

###########################################################
# Advanced System Settings (Commented)
###########################################################

# Additional Interface Options
# defaults write NSGlobalDomain AppleAccentColor -int 6 # ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼ (0-7) #default: -1
# defaults write NSGlobalDomain AppleHighlightColor -string "1.000000 0.749020 0.823529 Pink" # ãƒã‚¤ãƒ©ã‚¤ãƒˆè‰² #default: varies
# defaults write NSGlobalDomain AppleAquaColorVariant -int 1 # ãƒœã‚¿ãƒ³ãƒ»ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®è¡¨ç¤º (1: Blue, 6: Graphite) #default: 1
# defaults write NSGlobalDomain AppleMiniaturizeOnDoubleClick -bool false # ã‚¿ã‚¤ãƒˆãƒ«ãƒãƒ¼ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã§æœ€å°åŒ– #default: true

# Dialog & Panel Behavior
# defaults write NSGlobalDomain NSNavPanelExpandedStateForSaveMode -bool true # ä¿å­˜ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è©³ç´°è¡¨ç¤ºã§é–‹ã #default: false
# defaults write NSGlobalDomain PMPrintingExpandedStateForPrint -bool true # å°åˆ·ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è©³ç´°è¡¨ç¤ºã§é–‹ã #default: false

# Application Termination
# defaults write NSGlobalDomain NSDisableAutomaticTermination -bool true # ã‚¢ãƒ—ãƒªè‡ªå‹•çµ‚äº†æ©Ÿèƒ½åœæ­¢ #default: false

# Time Machine
# defaults write com.apple.TimeMachine DoNotOfferNewDisksForBackup -bool true # æ–°ã—ã„ãƒ‡ã‚£ã‚¹ã‚¯ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã«ææ¡ˆã—ãªã„ #default: false

echo "ğŸ’¡ NOTE: To enable these settings, Need to Restart macOS"

###########################################################
# æ‰‹å‹•è¨­å®šãŒå¿…è¦ãªé …ç›® / Manual Configuration Required
###########################################################

# ä»¥ä¸‹ã®è¨­å®šã¯ defaults ã‚³ãƒãƒ³ãƒ‰ã§ã¯å¤‰æ›´ã§ããªã„ãŸã‚ã€æ‰‹å‹•ã§è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
# The following settings cannot be changed with the defaults command and must be configured manually.

# ====================
# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ / Security & Privacy
# ====================

# FileVaultæš—å·åŒ–ã®æœ‰åŠ¹åŒ–
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ > FileVault > ã‚ªãƒ³ã«ã™ã‚‹
# System Preferences > Privacy & Security > FileVault > Turn On

# Touch ID / Face IDã®è¨­å®š
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > Touch ID ã¨ ãƒ‘ã‚¹ã‚³ãƒ¼ãƒ‰ > æŒ‡ç´‹ã‚’è¿½åŠ 
# System Preferences > Touch ID & Passcode > Add Fingerprint

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼è¨±å¯è¨­å®š
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ > ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼
# - ã‚«ãƒ¡ãƒ©ã€ãƒã‚¤ã‚¯ã€ä½ç½®æƒ…å ±ã€é€£çµ¡å…ˆã€ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ç­‰ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯
# System Preferences > Privacy & Security > Privacy
# - Camera, Microphone, Location Services, Contacts, Calendar access permissions

# ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã®è©³ç´°è¨­å®š
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ > ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ« > ã‚ªãƒ—ã‚·ãƒ§ãƒ³
# System Preferences > Network > Firewall > Options

# ====================
# ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š / Network Settings
# ====================

# Wi-Fiãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®è¿½åŠ ãƒ»æ¥ç¶š
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > Wi-Fi > ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’è¿½åŠ 
# System Preferences > Wi-Fi > Add Network

# VPNè¨­å®šã®è¿½åŠ 
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > VPNã¨ãƒ‡ãƒã‚¤ã‚¹ç®¡ç† > VPN > VPNæ§‹æˆã‚’è¿½åŠ 
# System Preferences > VPN & Device Management > VPN > Add VPN Configuration

# ====================
# ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã‚°ãƒ«ãƒ¼ãƒ— / Users & Groups
# ====================

# æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ä½œæˆ
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > ãƒ¦ãƒ¼ã‚¶ã¨ã‚°ãƒ«ãƒ¼ãƒ— > ãƒ¦ãƒ¼ã‚¶ã¾ãŸã¯ã‚°ãƒ«ãƒ¼ãƒ—ã‚’è¿½åŠ 
# System Preferences > Users & Groups > Add User or Group

# ãƒ­ã‚°ã‚¤ãƒ³ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®è¨­å®š
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > ãƒ¦ãƒ¼ã‚¶ã¨ã‚°ãƒ«ãƒ¼ãƒ— > ãƒ­ã‚°ã‚¤ãƒ³ã‚ªãƒ—ã‚·ãƒ§ãƒ³
# - è‡ªå‹•ãƒ­ã‚°ã‚¤ãƒ³ã€ã‚²ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã€ãƒ•ã‚¡ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ã‚¹ã‚¤ãƒƒãƒãƒ³ã‚°ç­‰
# System Preferences > Users & Groups > Login Options
# - Automatic login, Guest User, Fast User Switching, etc.

# ====================
# Apple ID ã¨ iCloud / Apple ID & iCloud
# ====================

# Apple IDã§ã®ã‚µã‚¤ãƒ³ã‚¤ãƒ³
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > Apple IDã§ã‚µã‚¤ãƒ³ã‚¤ãƒ³
# System Preferences > Sign in with your Apple ID

# iCloudåŒæœŸè¨­å®š
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > Apple ID > iCloud
# - ãƒ¡ãƒ¼ãƒ«ã€é€£çµ¡å…ˆã€ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã€å†™çœŸã€iCloud Driveç­‰ã®åŒæœŸè¨­å®š
# System Preferences > Apple ID > iCloud
# - Mail, Contacts, Calendar, Photos, iCloud Drive sync settings

# ====================
# ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã¨ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ / Display & Hardware
# ====================

# å¤–éƒ¨ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã®è§£åƒåº¦è¨­å®š
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ > è§£åƒåº¦
# System Preferences > Displays > Resolution

# Bluetoothæ©Ÿå™¨ã®ãƒšã‚¢ãƒªãƒ³ã‚°
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > Bluetooth > ãƒ‡ãƒã‚¤ã‚¹ã‚’è¿½åŠ 
# System Preferences > Bluetooth > Add Device

# ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ãƒ»ã‚¹ã‚­ãƒ£ãƒŠãƒ¼ã®è¿½åŠ 
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > ãƒ—ãƒªãƒ³ã‚¿ã¨ã‚¹ã‚­ãƒ£ãƒŠ > ãƒ—ãƒªãƒ³ã‚¿ã¾ãŸã¯ã‚¹ã‚­ãƒ£ãƒŠã‚’è¿½åŠ 
# System Preferences > Printers & Scanners > Add Printer or Scanner

# ====================
# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š / Application Settings
# ====================

# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­å®šï¼ˆä¸€éƒ¨ï¼‰
# Finderã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ > æƒ…å ±ã‚’è¦‹ã‚‹ > ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§é–‹ã > ã™ã¹ã¦ã‚’å¤‰æ›´
# Select file in Finder > Get Info > Open with > Change All

# ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š
# å„ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨­å®šç”»é¢ã‹ã‚‰ã€Œãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ–ãƒ©ã‚¦ã‚¶ã«è¨­å®šã€
# Set as default browser in each browser's preferences

# ====================
# è©³ç´°ãªã‚·ã‚¹ãƒ†ãƒ è¨­å®š / Advanced System Settings
# ====================

# Spotlightæ¤œç´¢çµæœã®è©³ç´°è¨­å®š
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > Siri ã¨ Spotlight > Spotlight > ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼
# System Preferences > Siri & Spotlight > Spotlight > Privacy

# é€šçŸ¥ã‚»ãƒ³ã‚¿ãƒ¼ã®ã‚¢ãƒ—ãƒªåˆ¥è¨­å®š
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > é€šçŸ¥ > å„ã‚¢ãƒ—ãƒªã®é€šçŸ¥è¨­å®š
# System Preferences > Notifications > Per-app notification settings

# ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®è‡ªå‹•æ›´æ–°è¨­å®š
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > ä¸€èˆ¬ > ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ > è‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
# System Preferences > General > Software Update > Automatic Updates

# ====================
# é–‹ç™ºè€…å‘ã‘è¨­å®š / Developer Settings
# ====================

# ä¸æ˜ãªé–‹ç™ºè€…ã‹ã‚‰ã®ã‚¢ãƒ—ãƒªã®å®Ÿè¡Œè¨±å¯
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ > ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
# "ä»»æ„ã®å ´æ‰€ã‹ã‚‰ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨±å¯" ã¯ä»¥ä¸‹ã‚³ãƒãƒ³ãƒ‰ã§æœ‰åŠ¹åŒ–å¯èƒ½ï¼š
# sudo spctl --master-disable
# System Preferences > Privacy & Security > Security
# Allow apps from anywhere can be enabled with: sudo spctl --master-disable

# Xcodeã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹åŒæ„
# sudo xcodebuild -license accept

# ====================
# ãã®ä»–ã®æ¨å¥¨è¨­å®š / Other Recommended Settings
# ====================

# ãƒ›ãƒƒãƒˆã‚³ãƒ¼ãƒŠãƒ¼ã®è¨­å®š
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã¨Dock > ãƒ›ãƒƒãƒˆã‚³ãƒ¼ãƒŠãƒ¼
# System Preferences > Desktop & Dock > Hot Corners

# Mission Controlã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼è¨­å®š
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ > ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ > Mission Control
# System Preferences > Keyboard > Keyboard Shortcuts > Mission Control

# ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æ©Ÿèƒ½ã®è¨­å®š
# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£
# - ã‚ºãƒ¼ãƒ ã€VoiceOverã€ã‚¹ã‚¤ãƒƒãƒã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ç­‰
# System Preferences > Accessibility
# - Zoom, VoiceOver, Switch Control, etc.

# ====================
# æ³¨æ„äº‹é … / Important Notes
# ====================

# 1. ä¸Šè¨˜ã®è¨­å®šã¯ç®¡ç†è€…æ¨©é™ãŒå¿…è¦ãªå ´åˆãŒã‚ã‚Šã¾ã™
# 2. ä¸€éƒ¨ã®è¨­å®šã¯å†èµ·å‹•å¾Œã«æœ‰åŠ¹ã«ãªã‚Šã¾ã™
# 3. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£ã®è¨­å®šã¯æ…é‡ã«è¡Œã£ã¦ãã ã•ã„
# 4. ä¼æ¥­ç’°å¢ƒã§ã¯çµ„ç¹”ã®ãƒãƒªã‚·ãƒ¼ã«å¾“ã£ã¦ãã ã•ã„

# 1. Some settings may require administrator privileges
# 2. Some settings take effect after restart
# 3. Configure security settings carefully
# 4. Follow organizational policies in corporate environments
